{"dependencies":[{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[0], \"react-native\");\n\n  var CACHE_PREFIX = 'cachestore-';\n  var CACHE_EXPIRATION_PREFIX = 'cacheexpiration-';\n  var EXPIRY_UNITS = 60 * 1000;\n\n  function currentTime() {\n    return Math.floor(new Date().getTime() / EXPIRY_UNITS);\n  }\n\n  ;\n  var CacheStore = {\n    get: function get(key) {\n      var theKey = CACHE_PREFIX + key;\n      var exprKey = CACHE_EXPIRATION_PREFIX + key;\n      return _reactNative.AsyncStorage.getItem(exprKey).then(function (expiry) {\n        if (expiry && currentTime() >= parseInt(expiry, 10)) {\n          _reactNative.AsyncStorage.multiRemove([exprKey, theKey]);\n\n          return new Promise.reject(null);\n        }\n\n        return _reactNative.AsyncStorage.getItem(theKey).then(function (item) {\n          return Promise.resolve(JSON.parse(item));\n        });\n      });\n    },\n    set: function set(key, value, time) {\n      var theKey = CACHE_PREFIX + key;\n      var exprKey = CACHE_EXPIRATION_PREFIX + key;\n\n      if (time) {\n        return _reactNative.AsyncStorage.setItem(exprKey, (currentTime() + time).toString()).then(function () {\n          return _reactNative.AsyncStorage.setItem(theKey, JSON.stringify(value));\n        });\n      } else {\n        _reactNative.AsyncStorage.removeItem(exprKey);\n\n        return _reactNative.AsyncStorage.setItem(theKey, JSON.stringify(value));\n      }\n    },\n    remove: function remove(key) {\n      return _reactNative.AsyncStorage.multiRemove([CACHE_EXPIRATION_PREFIX + key, CACHE_PREFIX + key]);\n    },\n    isExpired: function isExpired(key) {\n      var exprKey = CACHE_EXPIRATION_PREFIX + key;\n      return _reactNative.AsyncStorage.getItem(exprKey).then(function (expiry) {\n        var expired = expiry && currentTime() >= parseInt(expiry, 10);\n        return expired ? Promise.resolve() : new Promise.reject(null);\n      });\n    },\n    flush: function flush() {\n      return _reactNative.AsyncStorage.getAllKeys().then(function (keys) {\n        var theKeys = keys.filter(function (key) {\n          return key.indexOf(CACHE_PREFIX) == 0 || key.indexOf(CACHE_EXPIRATION_PREFIX) == 0;\n        });\n        return _reactNative.AsyncStorage.multiRemove(theKeys);\n      });\n    },\n    flushExpired: function flushExpired() {\n      return _reactNative.AsyncStorage.getAllKeys().then(function (keys) {\n        keys.forEach(function (key) {\n          if (key.indexOf(CACHE_EXPIRATION_PREFIX) == 0) {\n            var exprKey = key;\n            return _reactNative.AsyncStorage.getItem(exprKey).then(function (expiry) {\n              if (expiry && currentTime() >= parseInt(expiry, 10)) {\n                var theKey = CACHE_PREFIX + key.replace(CACHE_EXPIRATION_PREFIX, '');\n                return _reactNative.AsyncStorage.multiRemove([exprKey, theKey]);\n              }\n\n              return Promise.resolve();\n            });\n          }\n\n          return Promise.resolve();\n        });\n      });\n    }\n  };\n  CacheStore.flushExpired();\n  var _default = CacheStore;\n  exports.default = _default;\n});","map":[[2,0,1,0],[9,0,3,0],[11,0,7,0],[11,6,7,6,"CACHE_PREFIX"],[11,18,7,18],[11,21,7,21],[11,34,7,0],[12,0,8,0],[12,6,8,6,"CACHE_EXPIRATION_PREFIX"],[12,29,8,29],[12,32,8,32],[12,50,8,0],[13,0,9,0],[13,6,9,6,"EXPIRY_UNITS"],[13,18,9,18],[13,21,9,21],[13,26,9,26],[13,30,9,0],[15,0,11,0],[15,11,11,9,"currentTime"],[15,22,11,0],[15,25,11,22],[16,0,12,2],[16,11,12,9,"Math"],[16,15,12,13],[16,16,12,14,"floor"],[16,21,12,9],[16,22,12,21],[16,26,12,25,"Date"],[16,30,12,21],[16,33,12,32,"getTime"],[16,40,12,21],[16,42,12,20],[16,45,12,43,"EXPIRY_UNITS"],[16,57,12,9],[16,58,12,2],[17,0,13,1],[19,0,13,1],[20,0,15,0],[20,6,15,6,"CacheStore"],[20,16,15,16],[20,19,15,19],[21,0,16,2,"get"],[21,4,16,2,"get"],[21,7,15,19],[21,22,16,6,"key"],[21,25,15,19],[21,27,16,10],[22,0,17,4],[22,10,17,10,"theKey"],[22,16,17,16],[22,19,17,19,"CACHE_PREFIX"],[22,31,17,31],[22,34,17,34,"key"],[22,37,17,4],[23,0,18,4],[23,10,18,10,"exprKey"],[23,17,18,17],[23,20,18,20,"CACHE_EXPIRATION_PREFIX"],[23,43,18,43],[23,46,18,46,"key"],[23,49,18,4],[24,0,19,4],[24,13,19,11,"AsyncStorage"],[24,39,19,24,"getItem"],[24,46,19,11],[24,47,19,32,"exprKey"],[24,54,19,11],[24,56,19,41,"then"],[24,60,19,11],[24,61,19,46],[24,71,19,47,"expiry"],[24,77,19,46],[24,79,19,58],[25,0,20,6],[25,12,20,10,"expiry"],[25,18,20,16],[25,22,20,20,"currentTime"],[25,33,20,31],[25,39,20,37,"parseInt"],[25,47,20,45],[25,48,20,46,"expiry"],[25,54,20,45],[25,56,20,54],[25,58,20,45],[25,59,20,6],[25,61,20,58],[26,0,21,8,"AsyncStorage"],[26,36,21,21,"multiRemove"],[26,47,21,8],[26,48,21,33],[26,49,21,34,"exprKey"],[26,56,21,33],[26,58,21,43,"theKey"],[26,64,21,33],[26,65,21,8],[28,0,22,8],[28,17,22,15],[28,21,22,19,"Promise"],[28,28,22,26],[28,29,22,27,"reject"],[28,35,22,15],[28,36,22,34],[28,40,22,15],[28,41,22,8],[29,0,23,7],[31,0,24,6],[31,15,24,13,"AsyncStorage"],[31,41,24,26,"getItem"],[31,48,24,13],[31,49,24,34,"theKey"],[31,55,24,13],[31,57,24,42,"then"],[31,61,24,13],[31,62,24,47],[31,72,24,48,"item"],[31,76,24,47],[31,78,24,57],[32,0,25,8],[32,17,25,15,"Promise"],[32,24,25,22],[32,25,25,23,"resolve"],[32,32,25,15],[32,33,25,31,"JSON"],[32,37,25,35],[32,38,25,36,"parse"],[32,43,25,31],[32,44,25,42,"item"],[32,48,25,31],[32,49,25,15],[32,50,25,8],[33,0,26,7],[33,9,24,13],[33,10,24,6],[34,0,27,5],[34,7,19,11],[34,8,19,4],[35,0,28,3],[35,5,15,19],[36,0,30,2,"set"],[36,4,30,2,"set"],[36,7,15,19],[36,22,30,6,"key"],[36,25,15,19],[36,27,30,11,"value"],[36,32,15,19],[36,34,30,18,"time"],[36,38,15,19],[36,40,30,23],[37,0,31,4],[37,10,31,10,"theKey"],[37,16,31,16],[37,19,31,19,"CACHE_PREFIX"],[37,31,31,31],[37,34,31,34,"key"],[37,37,31,4],[38,0,32,4],[38,10,32,10,"exprKey"],[38,17,32,17],[38,20,32,20,"CACHE_EXPIRATION_PREFIX"],[38,43,32,43],[38,46,32,46,"key"],[38,49,32,4],[40,0,33,4],[40,10,33,8,"time"],[40,14,33,4],[40,16,33,13],[41,0,34,6],[41,15,34,13,"AsyncStorage"],[41,41,34,26,"setItem"],[41,48,34,13],[41,49,34,34,"exprKey"],[41,56,34,13],[41,58,34,43],[41,59,34,44,"currentTime"],[41,70,34,55],[41,75,34,60,"time"],[41,79,34,43],[41,81,34,66,"toString"],[41,89,34,43],[41,91,34,13],[41,93,34,78,"then"],[41,97,34,13],[41,98,34,83],[41,110,34,89],[42,0,35,8],[42,17,35,15,"AsyncStorage"],[42,43,35,28,"setItem"],[42,50,35,15],[42,51,35,36,"theKey"],[42,57,35,15],[42,59,35,44,"JSON"],[42,63,35,48],[42,64,35,49,"stringify"],[42,73,35,44],[42,74,35,59,"value"],[42,79,35,44],[42,80,35,15],[42,81,35,8],[43,0,36,7],[43,9,34,13],[43,10,34,6],[44,0,37,5],[44,7,33,4],[44,13,37,11],[45,0,38,6,"AsyncStorage"],[45,34,38,19,"removeItem"],[45,44,38,6],[45,45,38,30,"exprKey"],[45,52,38,6],[47,0,39,6],[47,15,39,13,"AsyncStorage"],[47,41,39,26,"setItem"],[47,48,39,13],[47,49,39,34,"theKey"],[47,55,39,13],[47,57,39,42,"JSON"],[47,61,39,46],[47,62,39,47,"stringify"],[47,71,39,42],[47,72,39,57,"value"],[47,77,39,42],[47,78,39,13],[47,79,39,6],[48,0,40,5],[49,0,41,3],[49,5,15,19],[50,0,43,2,"remove"],[50,4,43,2,"remove"],[50,10,15,19],[50,28,43,9,"key"],[50,31,15,19],[50,33,43,13],[51,0,44,4],[51,13,44,11,"AsyncStorage"],[51,39,44,24,"multiRemove"],[51,50,44,11],[51,51,44,36],[51,52,44,37,"CACHE_EXPIRATION_PREFIX"],[51,75,44,60],[51,78,44,63,"key"],[51,81,44,36],[51,83,44,68,"CACHE_PREFIX"],[51,95,44,80],[51,98,44,83,"key"],[51,101,44,36],[51,102,44,11],[51,103,44,4],[52,0,45,3],[52,5,15,19],[53,0,47,2,"isExpired"],[53,4,47,2,"isExpired"],[53,13,15,19],[53,34,47,12,"key"],[53,37,15,19],[53,39,47,16],[54,0,48,4],[54,10,48,10,"exprKey"],[54,17,48,17],[54,20,48,20,"CACHE_EXPIRATION_PREFIX"],[54,43,48,43],[54,46,48,46,"key"],[54,49,48,4],[55,0,49,4],[55,13,49,11,"AsyncStorage"],[55,39,49,24,"getItem"],[55,46,49,11],[55,47,49,32,"exprKey"],[55,54,49,11],[55,56,49,41,"then"],[55,60,49,11],[55,61,49,46],[55,71,49,47,"expiry"],[55,77,49,46],[55,79,49,58],[56,0,50,6],[56,12,50,10,"expired"],[56,19,50,17],[56,22,50,20,"expiry"],[56,28,50,26],[56,32,50,30,"currentTime"],[56,43,50,41],[56,49,50,47,"parseInt"],[56,57,50,55],[56,58,50,56,"expiry"],[56,64,50,55],[56,66,50,64],[56,68,50,55],[56,69,50,6],[57,0,51,6],[57,15,51,13,"expired"],[57,22,51,20],[57,25,51,23,"Promise"],[57,32,51,30],[57,33,51,31,"resolve"],[57,40,51,23],[57,42,51,20],[57,45,51,43],[57,49,51,47,"Promise"],[57,56,51,54],[57,57,51,55,"reject"],[57,63,51,43],[57,64,51,62],[57,68,51,43],[57,69,51,6],[58,0,52,5],[58,7,49,11],[58,8,49,4],[59,0,53,3],[59,5,15,19],[60,0,55,2,"flush"],[60,4,55,2,"flush"],[60,9,15,19],[60,28,55,9],[61,0,56,4],[61,13,56,11,"AsyncStorage"],[61,39,56,24,"getAllKeys"],[61,49,56,11],[61,52,56,37,"then"],[61,56,56,11],[61,57,56,42],[61,67,56,43,"keys"],[61,71,56,42],[61,73,56,52],[62,0,57,6],[62,12,57,10,"theKeys"],[62,19,57,17],[62,22,57,20,"keys"],[62,26,57,24],[62,27,57,25,"filter"],[62,33,57,20],[62,34,57,32],[62,44,57,33,"key"],[62,47,57,32],[62,49,57,41],[63,0,58,8],[63,17,58,15,"key"],[63,20,58,18],[63,21,58,19,"indexOf"],[63,28,58,15],[63,29,58,27,"CACHE_PREFIX"],[63,41,58,15],[63,46,58,44],[63,47,58,15],[63,51,58,49,"key"],[63,54,58,52],[63,55,58,53,"indexOf"],[63,62,58,49],[63,63,58,61,"CACHE_EXPIRATION_PREFIX"],[63,86,58,49],[63,91,58,89],[63,92,58,8],[64,0,59,7],[64,9,57,20],[64,10,57,6],[65,0,60,6],[65,15,60,13,"AsyncStorage"],[65,41,60,26,"multiRemove"],[65,52,60,13],[65,53,60,38,"theKeys"],[65,60,60,13],[65,61,60,6],[66,0,61,5],[66,7,56,11],[66,8,56,4],[67,0,62,3],[67,5,15,19],[68,0,64,2,"flushExpired"],[68,4,64,2,"flushExpired"],[68,16,15,19],[68,42,64,16],[69,0,65,4],[69,13,65,11,"AsyncStorage"],[69,39,65,24,"getAllKeys"],[69,49,65,11],[69,52,65,37,"then"],[69,56,65,11],[69,57,65,42],[69,67,65,43,"keys"],[69,71,65,42],[69,73,65,52],[70,0,66,6,"keys"],[70,8,66,6,"keys"],[70,12,66,10],[70,13,66,11,"forEach"],[70,20,66,6],[70,21,66,19],[70,31,66,20,"key"],[70,34,66,19],[70,36,66,28],[71,0,67,8],[71,14,67,12,"key"],[71,17,67,15],[71,18,67,16,"indexOf"],[71,25,67,12],[71,26,67,24,"CACHE_EXPIRATION_PREFIX"],[71,49,67,12],[71,54,67,52],[71,55,67,8],[71,57,67,54],[72,0,68,10],[72,16,68,14,"exprKey"],[72,23,68,21],[72,26,68,24,"key"],[72,29,68,10],[73,0,69,10],[73,19,69,17,"AsyncStorage"],[73,45,69,30,"getItem"],[73,52,69,17],[73,53,69,38,"exprKey"],[73,60,69,17],[73,62,69,47,"then"],[73,66,69,17],[73,67,69,52],[73,77,69,53,"expiry"],[73,83,69,52],[73,85,69,64],[74,0,70,12],[74,18,70,16,"expiry"],[74,24,70,22],[74,28,70,26,"currentTime"],[74,39,70,37],[74,45,70,43,"parseInt"],[74,53,70,51],[74,54,70,52,"expiry"],[74,60,70,51],[74,62,70,60],[74,64,70,51],[74,65,70,12],[74,67,70,64],[75,0,71,14],[75,20,71,18,"theKey"],[75,26,71,24],[75,29,71,27,"CACHE_PREFIX"],[75,41,71,39],[75,44,71,42,"key"],[75,47,71,45],[75,48,71,46,"replace"],[75,55,71,42],[75,56,71,54,"CACHE_EXPIRATION_PREFIX"],[75,79,71,42],[75,81,71,79],[75,83,71,42],[75,84,71,14],[76,0,72,14],[76,23,72,21,"AsyncStorage"],[76,49,72,34,"multiRemove"],[76,60,72,21],[76,61,72,46],[76,62,72,47,"exprKey"],[76,69,72,46],[76,71,72,56,"theKey"],[76,77,72,46],[76,78,72,21],[76,79,72,14],[77,0,73,13],[79,0,74,12],[79,21,74,19,"Promise"],[79,28,74,26],[79,29,74,27,"resolve"],[79,36,74,19],[79,38,74,12],[80,0,75,11],[80,13,69,17],[80,14,69,10],[81,0,76,9],[83,0,77,8],[83,17,77,15,"Promise"],[83,24,77,22],[83,25,77,23,"resolve"],[83,32,77,15],[83,34,77,8],[84,0,78,7],[84,9,66,6],[85,0,79,5],[85,7,65,11],[85,8,65,4],[86,0,80,3],[87,0,15,19],[87,3,15,0],[88,0,84,0,"CacheStore"],[88,2,84,0,"CacheStore"],[88,12,84,10],[88,13,84,11,"flushExpired"],[88,25,84,0],[89,17,86,15,"CacheStore"],[89,27]]},"type":"js/module"}]}