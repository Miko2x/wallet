{"dependencies":[{"name":"Systrace","data":{"isAsync":false}},{"name":"infoLog","data":{"isAsync":false}},{"name":"fbjs/lib/performanceNow","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Systrace = _$$_REQUIRE(_dependencyMap[0], \"Systrace\");\n\n  var infoLog = _$$_REQUIRE(_dependencyMap[1], \"infoLog\");\n\n  var performanceNow = global.nativeQPLTimestamp || global.nativePerformanceNow || _$$_REQUIRE(_dependencyMap[2], \"fbjs/lib/performanceNow\");\n\n  var timespans = {};\n  var extras = {};\n  var cookies = {};\n  var PRINT_TO_CONSOLE = false;\n  var PerformanceLogger = {\n    addTimespan: function addTimespan(key, lengthInMs, description) {\n      if (timespans[key]) {\n        if (__DEV__) {\n          infoLog('PerformanceLogger: Attempting to add a timespan that already exists ', key);\n        }\n\n        return;\n      }\n\n      timespans[key] = {\n        description: description,\n        totalTime: lengthInMs\n      };\n    },\n    startTimespan: function startTimespan(key, description) {\n      if (timespans[key]) {\n        if (__DEV__) {\n          infoLog('PerformanceLogger: Attempting to start a timespan that already exists ', key);\n        }\n\n        return;\n      }\n\n      timespans[key] = {\n        description: description,\n        startTime: performanceNow()\n      };\n      cookies[key] = Systrace.beginAsyncEvent(key);\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'start: ' + key);\n      }\n    },\n    stopTimespan: function stopTimespan(key) {\n      var timespan = timespans[key];\n\n      if (!timespan || !timespan.startTime) {\n        if (__DEV__) {\n          infoLog('PerformanceLogger: Attempting to end a timespan that has not started ', key);\n        }\n\n        return;\n      }\n\n      if (timespan.endTime) {\n        if (__DEV__) {\n          infoLog('PerformanceLogger: Attempting to end a timespan that has already ended ', key);\n        }\n\n        return;\n      }\n\n      timespan.endTime = performanceNow();\n      timespan.totalTime = timespan.endTime - (timespan.startTime || 0);\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'end: ' + key);\n      }\n\n      Systrace.endAsyncEvent(key, cookies[key]);\n      delete cookies[key];\n    },\n    clear: function clear() {\n      timespans = {};\n      extras = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clear');\n      }\n    },\n    clearCompleted: function clearCompleted() {\n      for (var _key in timespans) {\n        if (timespans[_key].totalTime) {\n          delete timespans[_key];\n        }\n      }\n\n      extras = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearCompleted');\n      }\n    },\n    clearExceptTimespans: function clearExceptTimespans(keys) {\n      timespans = Object.keys(timespans).reduce(function (previous, key) {\n        if (keys.indexOf(key) !== -1) {\n          previous[key] = timespans[key];\n        }\n\n        return previous;\n      }, {});\n      extras = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearExceptTimespans', keys);\n      }\n    },\n    currentTimestamp: function currentTimestamp() {\n      return performanceNow();\n    },\n    getTimespans: function getTimespans() {\n      return timespans;\n    },\n    hasTimespan: function hasTimespan(key) {\n      return !!timespans[key];\n    },\n    logTimespans: function logTimespans() {\n      for (var _key2 in timespans) {\n        if (timespans[_key2].totalTime) {\n          infoLog(_key2 + ': ' + timespans[_key2].totalTime + 'ms');\n        }\n      }\n    },\n    addTimespans: function addTimespans(newTimespans, labels) {\n      for (var ii = 0, l = newTimespans.length; ii < l; ii += 2) {\n        var label = labels[ii / 2];\n        PerformanceLogger.addTimespan(label, newTimespans[ii + 1] - newTimespans[ii], label);\n      }\n    },\n    setExtra: function setExtra(key, value) {\n      if (extras[key]) {\n        if (__DEV__) {\n          infoLog('PerformanceLogger: Attempting to set an extra that already exists ', {\n            key: key,\n            currentValue: extras[key],\n            attemptedValue: value\n          });\n        }\n\n        return;\n      }\n\n      extras[key] = value;\n    },\n    getExtras: function getExtras() {\n      return extras;\n    },\n    logExtras: function logExtras() {\n      infoLog(extras);\n    }\n  };\n  module.exports = PerformanceLogger;\n});","map":[[2,0,10,0],[4,0,12,0],[4,6,12,6,"Systrace"],[4,14,12,14],[4,17,12,17,"require"],[4,28,12,24],[4,59,12,0],[6,0,14,0],[6,6,14,6,"infoLog"],[6,13,14,13],[6,16,14,16,"require"],[6,27,14,23],[6,57,14,0],[8,0,15,0],[8,6,15,6,"performanceNow"],[8,20,15,20],[8,23,16,2,"global"],[8,29,16,8],[8,30,16,9,"nativeQPLTimestamp"],[8,48,16,2],[8,52,17,2,"global"],[8,58,17,8],[8,59,17,9,"nativePerformanceNow"],[8,79,16,2],[8,83,18,2,"require"],[8,94,18,9],[8,140,15,0],[10,0,27,0],[10,6,27,4,"timespans"],[10,15,27,40],[10,18,27,43],[10,20,27,0],[11,0,28,0],[11,6,28,4,"extras"],[11,12,28,32],[11,15,28,35],[11,17,28,0],[12,0,29,0],[12,6,29,6,"cookies"],[12,13,29,38],[12,16,29,41],[12,18,29,0],[13,0,31,0],[13,6,31,6,"PRINT_TO_CONSOLE"],[13,22,31,29],[13,25,31,32],[13,30,31,0],[14,0,37,0],[14,6,37,6,"PerformanceLogger"],[14,23,37,23],[14,26,37,26],[15,0,38,2,"addTimespan"],[15,4,38,2,"addTimespan"],[15,15,37,26],[15,38,38,14,"key"],[15,41,37,26],[15,43,38,27,"lengthInMs"],[15,53,37,26],[15,55,38,47,"description"],[15,66,37,26],[15,68,38,69],[16,0,39,4],[16,10,39,8,"timespans"],[16,19,39,17],[16,20,39,18,"key"],[16,23,39,17],[16,24,39,4],[16,26,39,24],[17,0,40,6],[17,12,40,10,"__DEV__"],[17,19,40,6],[17,21,40,19],[18,0,41,8,"infoLog"],[18,10,41,8,"infoLog"],[18,17,41,15],[18,18,42,10],[18,88,41,15],[18,90,43,10,"key"],[18,93,41,15],[18,94,41,8],[19,0,45,7],[21,0,46,6],[22,0,47,5],[24,0,49,4,"timespans"],[24,6,49,4,"timespans"],[24,15,49,13],[24,16,49,14,"key"],[24,19,49,13],[24,20,49,4],[24,23,49,21],[25,0,50,6,"description"],[25,8,50,6,"description"],[25,19,50,17],[25,21,50,19,"description"],[25,32,49,21],[26,0,51,6,"totalTime"],[26,8,51,6,"totalTime"],[26,17,51,15],[26,19,51,17,"lengthInMs"],[27,0,49,21],[27,7,49,4],[28,0,53,3],[28,5,37,26],[29,0,55,2,"startTimespan"],[29,4,55,2,"startTimespan"],[29,17,37,26],[29,42,55,16,"key"],[29,45,37,26],[29,47,55,29,"description"],[29,58,37,26],[29,60,55,51],[30,0,56,4],[30,10,56,8,"timespans"],[30,19,56,17],[30,20,56,18,"key"],[30,23,56,17],[30,24,56,4],[30,26,56,24],[31,0,57,6],[31,12,57,10,"__DEV__"],[31,19,57,6],[31,21,57,19],[32,0,58,8,"infoLog"],[32,10,58,8,"infoLog"],[32,17,58,15],[32,18,59,10],[32,90,58,15],[32,92,60,10,"key"],[32,95,58,15],[32,96,58,8],[33,0,62,7],[35,0,63,6],[36,0,64,5],[38,0,66,4,"timespans"],[38,6,66,4,"timespans"],[38,15,66,13],[38,16,66,14,"key"],[38,19,66,13],[38,20,66,4],[38,23,66,21],[39,0,67,6,"description"],[39,8,67,6,"description"],[39,19,67,17],[39,21,67,19,"description"],[39,32,66,21],[40,0,68,6,"startTime"],[40,8,68,6,"startTime"],[40,17,68,15],[40,19,68,17,"performanceNow"],[40,33,68,31],[41,0,66,21],[41,7,66,4],[42,0,70,4,"cookies"],[42,6,70,4,"cookies"],[42,13,70,11],[42,14,70,12,"key"],[42,17,70,11],[42,18,70,4],[42,21,70,19,"Systrace"],[42,29,70,27],[42,30,70,28,"beginAsyncEvent"],[42,45,70,19],[42,46,70,44,"key"],[42,49,70,19],[42,50,70,4],[44,0,71,4],[44,10,71,8,"PRINT_TO_CONSOLE"],[44,26,71,4],[44,28,71,26],[45,0,72,6,"infoLog"],[45,8,72,6,"infoLog"],[45,15,72,13],[45,16,72,14],[45,38,72,13],[45,40,72,38],[45,52,72,50,"key"],[45,55,72,13],[45,56,72,6],[46,0,73,5],[47,0,74,3],[47,5,37,26],[48,0,76,2,"stopTimespan"],[48,4,76,2,"stopTimespan"],[48,16,37,26],[48,40,76,15,"key"],[48,43,37,26],[48,45,76,28],[49,0,77,4],[49,10,77,10,"timespan"],[49,18,77,18],[49,21,77,21,"timespans"],[49,30,77,30],[49,31,77,31,"key"],[49,34,77,30],[49,35,77,4],[51,0,78,4],[51,10,78,8],[51,11,78,9,"timespan"],[51,19,78,8],[51,23,78,21],[51,24,78,22,"timespan"],[51,32,78,30],[51,33,78,31,"startTime"],[51,42,78,4],[51,44,78,42],[52,0,79,6],[52,12,79,10,"__DEV__"],[52,19,79,6],[52,21,79,19],[53,0,80,8,"infoLog"],[53,10,80,8,"infoLog"],[53,17,80,15],[53,18,81,10],[53,89,80,15],[53,91,82,10,"key"],[53,94,80,15],[53,95,80,8],[54,0,84,7],[56,0,85,6],[57,0,86,5],[59,0,87,4],[59,10,87,8,"timespan"],[59,18,87,16],[59,19,87,17,"endTime"],[59,26,87,4],[59,28,87,26],[60,0,88,6],[60,12,88,10,"__DEV__"],[60,19,88,6],[60,21,88,19],[61,0,89,8,"infoLog"],[61,10,89,8,"infoLog"],[61,17,89,15],[61,18,90,10],[61,91,89,15],[61,93,91,10,"key"],[61,96,89,15],[61,97,89,8],[62,0,93,7],[64,0,94,6],[65,0,95,5],[67,0,97,4,"timespan"],[67,6,97,4,"timespan"],[67,14,97,12],[67,15,97,13,"endTime"],[67,22,97,4],[67,25,97,23,"performanceNow"],[67,39,97,37],[67,41,97,4],[68,0,98,4,"timespan"],[68,6,98,4,"timespan"],[68,14,98,12],[68,15,98,13,"totalTime"],[68,24,98,4],[68,27,98,25,"timespan"],[68,35,98,33],[68,36,98,34,"endTime"],[68,43,98,25],[68,47,98,45,"timespan"],[68,55,98,53],[68,56,98,54,"startTime"],[68,65,98,45],[68,69,98,67],[68,70,98,25],[68,71,98,4],[70,0,99,4],[70,10,99,8,"PRINT_TO_CONSOLE"],[70,26,99,4],[70,28,99,26],[71,0,100,6,"infoLog"],[71,8,100,6,"infoLog"],[71,15,100,13],[71,16,100,14],[71,38,100,13],[71,40,100,38],[71,50,100,48,"key"],[71,53,100,13],[71,54,100,6],[72,0,101,5],[74,0,103,4,"Systrace"],[74,6,103,4,"Systrace"],[74,14,103,12],[74,15,103,13,"endAsyncEvent"],[74,28,103,4],[74,29,103,27,"key"],[74,32,103,4],[74,34,103,32,"cookies"],[74,41,103,39],[74,42,103,40,"key"],[74,45,103,39],[74,46,103,4],[75,0,104,4],[75,13,104,11,"cookies"],[75,20,104,18],[75,21,104,19,"key"],[75,24,104,18],[75,25,104,4],[76,0,105,3],[76,5,37,26],[77,0,107,2,"clear"],[77,4,107,2,"clear"],[77,9,37,26],[77,28,107,10],[78,0,108,4,"timespans"],[78,6,108,4,"timespans"],[78,15,108,13],[78,18,108,16],[78,20,108,4],[79,0,109,4,"extras"],[79,6,109,4,"extras"],[79,12,109,10],[79,15,109,13],[79,17,109,4],[81,0,110,4],[81,10,110,8,"PRINT_TO_CONSOLE"],[81,26,110,4],[81,28,110,26],[82,0,111,6,"infoLog"],[82,8,111,6,"infoLog"],[82,15,111,13],[82,16,111,14],[82,38,111,13],[82,40,111,38],[82,47,111,13],[82,48,111,6],[83,0,112,5],[84,0,113,3],[84,5,37,26],[85,0,115,2,"clearCompleted"],[85,4,115,2,"clearCompleted"],[85,18,37,26],[85,46,115,19],[86,0,116,4],[86,11,116,9],[86,15,116,15,"key"],[86,19,116,4],[86,23,116,22,"timespans"],[86,32,116,4],[86,34,116,33],[87,0,117,6],[87,12,117,10,"timespans"],[87,21,117,19],[87,22,117,20,"key"],[87,26,117,19],[87,27,117,10],[87,28,117,25,"totalTime"],[87,37,117,6],[87,39,117,36],[88,0,118,8],[88,17,118,15,"timespans"],[88,26,118,24],[88,27,118,25,"key"],[88,31,118,24],[88,32,118,8],[89,0,119,7],[90,0,120,5],[92,0,121,4,"extras"],[92,6,121,4,"extras"],[92,12,121,10],[92,15,121,13],[92,17,121,4],[94,0,122,4],[94,10,122,8,"PRINT_TO_CONSOLE"],[94,26,122,4],[94,28,122,26],[95,0,123,6,"infoLog"],[95,8,123,6,"infoLog"],[95,15,123,13],[95,16,123,14],[95,38,123,13],[95,40,123,38],[95,56,123,13],[95,57,123,6],[96,0,124,5],[97,0,125,3],[97,5,37,26],[98,0,127,2,"clearExceptTimespans"],[98,4,127,2,"clearExceptTimespans"],[98,24,37,26],[98,56,127,23,"keys"],[98,60,37,26],[98,62,127,44],[99,0,128,4,"timespans"],[99,6,128,4,"timespans"],[99,15,128,13],[99,18,128,16,"Object"],[99,24,128,22],[99,25,128,23,"keys"],[99,29,128,16],[99,30,128,28,"timespans"],[99,39,128,16],[99,41,128,39,"reduce"],[99,47,128,16],[99,48,128,46],[99,58,128,55,"previous"],[99,66,128,46],[99,68,128,65,"key"],[99,71,128,46],[99,73,128,70],[100,0,129,6],[100,12,129,10,"keys"],[100,16,129,14],[100,17,129,15,"indexOf"],[100,24,129,10],[100,25,129,23,"key"],[100,28,129,10],[100,34,129,32],[100,35,129,33],[100,36,129,6],[100,38,129,36],[101,0,130,8,"previous"],[101,10,130,8,"previous"],[101,18,130,16],[101,19,130,17,"key"],[101,22,130,16],[101,23,130,8],[101,26,130,24,"timespans"],[101,35,130,33],[101,36,130,34,"key"],[101,39,130,33],[101,40,130,8],[102,0,131,7],[104,0,132,6],[104,15,132,13,"previous"],[104,23,132,6],[105,0,133,5],[105,7,128,16],[105,9,133,7],[105,11,128,16],[105,12,128,4],[106,0,134,4,"extras"],[106,6,134,4,"extras"],[106,12,134,10],[106,15,134,13],[106,17,134,4],[108,0,135,4],[108,10,135,8,"PRINT_TO_CONSOLE"],[108,26,135,4],[108,28,135,26],[109,0,136,6,"infoLog"],[109,8,136,6,"infoLog"],[109,15,136,13],[109,16,136,14],[109,38,136,13],[109,40,136,38],[109,62,136,13],[109,64,136,62,"keys"],[109,68,136,13],[109,69,136,6],[110,0,137,5],[111,0,138,3],[111,5,37,26],[112,0,140,2,"currentTimestamp"],[112,4,140,2,"currentTimestamp"],[112,20,37,26],[112,50,140,21],[113,0,141,4],[113,13,141,11,"performanceNow"],[113,27,141,25],[113,29,141,4],[114,0,142,3],[114,5,37,26],[115,0,144,2,"getTimespans"],[115,4,144,2,"getTimespans"],[115,16,37,26],[115,42,144,17],[116,0,145,4],[116,13,145,11,"timespans"],[116,22,145,4],[117,0,146,3],[117,5,37,26],[118,0,148,2,"hasTimespan"],[118,4,148,2,"hasTimespan"],[118,15,37,26],[118,38,148,14,"key"],[118,41,37,26],[118,43,148,27],[119,0,149,4],[119,13,149,11],[119,14,149,12],[119,15,149,13,"timespans"],[119,24,149,22],[119,25,149,23,"key"],[119,28,149,22],[119,29,149,4],[120,0,150,3],[120,5,37,26],[121,0,152,2,"logTimespans"],[121,4,152,2,"logTimespans"],[121,16,37,26],[121,42,152,17],[122,0,153,4],[122,11,153,9],[122,15,153,15,"key"],[122,20,153,4],[122,24,153,22,"timespans"],[122,33,153,4],[122,35,153,33],[123,0,154,6],[123,12,154,10,"timespans"],[123,21,154,19],[123,22,154,20,"key"],[123,27,154,19],[123,28,154,10],[123,29,154,25,"totalTime"],[123,38,154,6],[123,40,154,36],[124,0,155,8,"infoLog"],[124,10,155,8,"infoLog"],[124,17,155,15],[124,18,155,16,"key"],[124,23,155,19],[124,26,155,22],[124,30,155,16],[124,33,155,29,"timespans"],[124,42,155,38],[124,43,155,39,"key"],[124,48,155,38],[124,49,155,29],[124,50,155,44,"totalTime"],[124,59,155,16],[124,62,155,56],[124,66,155,15],[124,67,155,8],[125,0,156,7],[126,0,157,5],[127,0,158,3],[127,5,37,26],[128,0,160,2,"addTimespans"],[128,4,160,2,"addTimespans"],[128,16,37,26],[128,40,160,15,"newTimespans"],[128,52,37,26],[128,54,160,44,"labels"],[128,60,37,26],[128,62,160,67],[129,0,161,4],[129,11,161,9],[129,15,161,13,"ii"],[129,17,161,15],[129,20,161,18],[129,21,161,9],[129,23,161,21,"l"],[129,24,161,22],[129,27,161,25,"newTimespans"],[129,39,161,37],[129,40,161,38,"length"],[129,46,161,4],[129,48,161,46,"ii"],[129,50,161,48],[129,53,161,51,"l"],[129,54,161,4],[129,56,161,54,"ii"],[129,58,161,56],[129,62,161,60],[129,63,161,4],[129,65,161,63],[130,0,162,6],[130,12,162,12,"label"],[130,17,162,17],[130,20,162,20,"labels"],[130,26,162,26],[130,27,162,27,"ii"],[130,29,162,29],[130,32,162,32],[130,33,162,26],[130,34,162,6],[131,0,163,6,"PerformanceLogger"],[131,8,163,6,"PerformanceLogger"],[131,25,163,23],[131,26,163,24,"addTimespan"],[131,37,163,6],[131,38,164,8,"label"],[131,43,163,6],[131,45,165,8,"newTimespans"],[131,57,165,20],[131,58,165,21,"ii"],[131,60,165,23],[131,63,165,26],[131,64,165,20],[131,65,165,8],[131,68,165,31,"newTimespans"],[131,80,165,43],[131,81,165,44,"ii"],[131,83,165,43],[131,84,163,6],[131,86,166,8,"label"],[131,91,163,6],[132,0,168,5],[133,0,169,3],[133,5,37,26],[134,0,171,2,"setExtra"],[134,4,171,2,"setExtra"],[134,12,37,26],[134,32,171,11,"key"],[134,35,37,26],[134,37,171,24,"value"],[134,42,37,26],[134,44,171,36],[135,0,172,4],[135,10,172,8,"extras"],[135,16,172,14],[135,17,172,15,"key"],[135,20,172,14],[135,21,172,4],[135,23,172,21],[136,0,173,6],[136,12,173,10,"__DEV__"],[136,19,173,6],[136,21,173,19],[137,0,174,8,"infoLog"],[137,10,174,8,"infoLog"],[137,17,174,15],[137,18,175,10],[137,86,174,15],[137,88,176,10],[138,0,176,11,"key"],[138,12,176,11,"key"],[138,15,176,14],[138,17,176,11,"key"],[138,20,176,10],[139,0,176,16,"currentValue"],[139,12,176,16,"currentValue"],[139,24,176,28],[139,26,176,30,"extras"],[139,32,176,36],[139,33,176,37,"key"],[139,36,176,36],[139,37,176,10],[140,0,176,43,"attemptedValue"],[140,12,176,43,"attemptedValue"],[140,26,176,57],[140,28,176,59,"value"],[141,0,176,10],[141,11,174,15],[141,12,174,8],[142,0,178,7],[144,0,179,6],[145,0,180,5],[147,0,181,4,"extras"],[147,6,181,4,"extras"],[147,12,181,10],[147,13,181,11,"key"],[147,16,181,10],[147,17,181,4],[147,20,181,18,"value"],[147,25,181,4],[148,0,182,3],[148,5,37,26],[149,0,184,2,"getExtras"],[149,4,184,2,"getExtras"],[149,13,37,26],[149,36,184,14],[150,0,185,4],[150,13,185,11,"extras"],[150,19,185,4],[151,0,186,3],[151,5,37,26],[152,0,188,2,"logExtras"],[152,4,188,2,"logExtras"],[152,13,37,26],[152,36,188,14],[153,0,189,4,"infoLog"],[153,6,189,4,"infoLog"],[153,13,189,11],[153,14,189,12,"extras"],[153,20,189,11],[153,21,189,4],[154,0,190,3],[155,0,37,26],[155,3,37,0],[156,0,193,0,"module"],[156,2,193,0,"module"],[156,8,193,6],[156,9,193,7,"exports"],[156,16,193,0],[156,19,193,17,"PerformanceLogger"],[156,36,193,0]]},"type":"js/module"}]}