{"dependencies":[{"name":"./_global","data":{"isAsync":false}},{"name":"./_task","data":{"isAsync":false}},{"name":"./_cof","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var global = _$$_REQUIRE(_dependencyMap[0], \"./_global\");\n\n  var macrotask = _$$_REQUIRE(_dependencyMap[1], \"./_task\").set;\n\n  var Observer = global.MutationObserver || global.WebKitMutationObserver;\n  var process = global.process;\n  var Promise = global.Promise;\n  var isNode = _$$_REQUIRE(_dependencyMap[2], \"./_cof\")(process) == 'process';\n\n  module.exports = function () {\n    var head, last, notify;\n\n    var flush = function flush() {\n      var parent, fn;\n      if (isNode && (parent = process.domain)) parent.exit();\n\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n\n        try {\n          fn();\n        } catch (e) {\n          if (head) notify();else last = undefined;\n          throw e;\n        }\n      }\n\n      last = undefined;\n      if (parent) parent.enter();\n    };\n\n    if (isNode) {\n      notify = function notify() {\n        process.nextTick(flush);\n      };\n    } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n      var toggle = true;\n      var node = document.createTextNode('');\n      new Observer(flush).observe(node, {\n        characterData: true\n      });\n\n      notify = function notify() {\n        node.data = toggle = !toggle;\n      };\n    } else if (Promise && Promise.resolve) {\n      var promise = Promise.resolve(undefined);\n\n      notify = function notify() {\n        promise.then(flush);\n      };\n    } else {\n      notify = function notify() {\n        macrotask.call(global, flush);\n      };\n    }\n\n    return function (fn) {\n      var task = {\n        fn: fn,\n        next: undefined\n      };\n      if (last) last.next = task;\n\n      if (!head) {\n        head = task;\n        notify();\n      }\n\n      last = task;\n    };\n  };\n});","map":[[2,0,1,0],[2,6,1,4,"global"],[2,12,1,10],[2,15,1,13,"require"],[2,26,1,20],[2,58,1,0],[4,0,2,0],[4,6,2,4,"macrotask"],[4,15,2,13],[4,18,2,16,"require"],[4,29,2,23],[4,59,2,16],[4,60,2,35,"set"],[4,63,2,0],[6,0,3,0],[6,6,3,4,"Observer"],[6,14,3,12],[6,17,3,15,"global"],[6,23,3,21],[6,24,3,22,"MutationObserver"],[6,40,3,15],[6,44,3,42,"global"],[6,50,3,48],[6,51,3,49,"WebKitMutationObserver"],[6,73,3,0],[7,0,4,0],[7,6,4,4,"process"],[7,13,4,11],[7,16,4,14,"global"],[7,22,4,20],[7,23,4,21,"process"],[7,30,4,0],[8,0,5,0],[8,6,5,4,"Promise"],[8,13,5,11],[8,16,5,14,"global"],[8,22,5,20],[8,23,5,21,"Promise"],[8,30,5,0],[9,0,6,0],[9,6,6,4,"isNode"],[9,12,6,10],[9,15,6,13,"require"],[9,26,6,20],[9,55,6,13],[9,56,6,31,"process"],[9,63,6,13],[9,68,6,43],[9,77,6,0],[11,0,8,0,"module"],[11,2,8,0,"module"],[11,8,8,6],[11,9,8,7,"exports"],[11,16,8,0],[11,19,8,17],[11,31,8,29],[12,0,9,2],[12,8,9,6,"head"],[12,12,9,2],[12,14,9,12,"last"],[12,18,9,2],[12,20,9,18,"notify"],[12,26,9,2],[14,0,11,2],[14,8,11,6,"flush"],[14,13,11,11],[14,16,11,14],[14,25,11,6,"flush"],[14,30,11,14],[14,33,11,26],[15,0,12,4],[15,10,12,8,"parent"],[15,16,12,4],[15,18,12,16,"fn"],[15,20,12,4],[16,0,13,4],[16,10,13,8,"isNode"],[16,16,13,14],[16,21,13,19,"parent"],[16,27,13,25],[16,30,13,28,"process"],[16,37,13,35],[16,38,13,36,"domain"],[16,44,13,14],[16,45,13,4],[16,47,13,45,"parent"],[16,53,13,51],[16,54,13,52,"exit"],[16,58,13,45],[18,0,14,4],[18,13,14,11,"head"],[18,17,14,4],[18,19,14,17],[19,0,15,6,"fn"],[19,8,15,6,"fn"],[19,10,15,8],[19,13,15,11,"head"],[19,17,15,15],[19,18,15,16,"fn"],[19,20,15,6],[20,0,16,6,"head"],[20,8,16,6,"head"],[20,12,16,10],[20,15,16,13,"head"],[20,19,16,17],[20,20,16,18,"next"],[20,24,16,6],[22,0,17,6],[22,12,17,10],[23,0,18,8,"fn"],[23,10,18,8,"fn"],[23,12,18,10],[24,0,19,7],[24,9,17,6],[24,10,19,8],[24,17,19,15,"e"],[24,18,19,8],[24,20,19,18],[25,0,20,8],[25,14,20,12,"head"],[25,18,20,8],[25,20,20,18,"notify"],[25,26,20,24],[25,29,20,8],[25,34,21,13,"last"],[25,38,21,17],[25,41,21,20,"undefined"],[25,50,21,13],[26,0,22,8],[26,16,22,14,"e"],[26,17,22,8],[27,0,23,7],[28,0,24,5],[30,0,24,6,"last"],[30,6,24,6,"last"],[30,10,24,10],[30,13,24,13,"undefined"],[30,22,24,6],[31,0,25,4],[31,10,25,8,"parent"],[31,16,25,4],[31,18,25,16,"parent"],[31,24,25,22],[31,25,25,23,"enter"],[31,30,25,16],[32,0,26,3],[32,5,11,2],[34,0,29,2],[34,8,29,6,"isNode"],[34,14,29,2],[34,16,29,14],[35,0,30,4,"notify"],[35,6,30,4,"notify"],[35,12,30,10],[35,15,30,13],[35,33,30,25],[36,0,31,6,"process"],[36,8,31,6,"process"],[36,15,31,13],[36,16,31,14,"nextTick"],[36,24,31,6],[36,25,31,23,"flush"],[36,30,31,6],[37,0,32,5],[37,7,30,4],[38,0,34,3],[38,5,29,2],[38,11,34,9],[38,15,34,13,"Observer"],[38,23,34,21],[38,27,34,25],[38,29,34,27,"global"],[38,35,34,33],[38,36,34,34,"navigator"],[38,45,34,27],[38,49,34,47,"global"],[38,55,34,53],[38,56,34,54,"navigator"],[38,65,34,47],[38,66,34,64,"standalone"],[38,76,34,25],[38,77,34,9],[38,79,34,77],[39,0,35,4],[39,10,35,8,"toggle"],[39,16,35,14],[39,19,35,17],[39,23,35,4],[40,0,36,4],[40,10,36,8,"node"],[40,14,36,12],[40,17,36,15,"document"],[40,25,36,23],[40,26,36,24,"createTextNode"],[40,40,36,15],[40,41,36,39],[40,43,36,15],[40,44,36,4],[41,0,37,4],[41,10,37,8,"Observer"],[41,18,37,4],[41,19,37,17,"flush"],[41,24,37,4],[41,26,37,24,"observe"],[41,33,37,4],[41,34,37,32,"node"],[41,38,37,4],[41,40,37,38],[42,0,37,40,"characterData"],[42,8,37,40,"characterData"],[42,21,37,53],[42,23,37,55],[43,0,37,38],[43,7,37,4],[45,0,38,4,"notify"],[45,6,38,4,"notify"],[45,12,38,10],[45,15,38,13],[45,33,38,25],[46,0,39,6,"node"],[46,8,39,6,"node"],[46,12,39,10],[46,13,39,11,"data"],[46,17,39,6],[46,20,39,18,"toggle"],[46,26,39,24],[46,29,39,27],[46,30,39,28,"toggle"],[46,36,39,6],[47,0,40,5],[47,7,38,4],[48,0,42,3],[48,5,34,9],[48,11,42,9],[48,15,42,13,"Promise"],[48,22,42,20],[48,26,42,24,"Promise"],[48,33,42,31],[48,34,42,32,"resolve"],[48,41,42,9],[48,43,42,41],[49,0,44,4],[49,10,44,8,"promise"],[49,17,44,15],[49,20,44,18,"Promise"],[49,27,44,25],[49,28,44,26,"resolve"],[49,35,44,18],[49,36,44,34,"undefined"],[49,45,44,18],[49,46,44,4],[51,0,45,4,"notify"],[51,6,45,4,"notify"],[51,12,45,10],[51,15,45,13],[51,33,45,25],[52,0,46,6,"promise"],[52,8,46,6,"promise"],[52,15,46,13],[52,16,46,14,"then"],[52,20,46,6],[52,21,46,19,"flush"],[52,26,46,6],[53,0,47,5],[53,7,45,4],[54,0,54,3],[54,5,42,9],[54,11,54,9],[55,0,55,4,"notify"],[55,6,55,4,"notify"],[55,12,55,10],[55,15,55,13],[55,33,55,25],[56,0,57,6,"macrotask"],[56,8,57,6,"macrotask"],[56,17,57,15],[56,18,57,16,"call"],[56,22,57,6],[56,23,57,21,"global"],[56,29,57,6],[56,31,57,29,"flush"],[56,36,57,6],[57,0,58,5],[57,7,55,4],[58,0,59,3],[60,0,61,2],[60,11,61,9],[60,21,61,19,"fn"],[60,23,61,9],[60,25,61,23],[61,0,62,4],[61,10,62,8,"task"],[61,14,62,12],[61,17,62,15],[62,0,62,17,"fn"],[62,8,62,17,"fn"],[62,10,62,19],[62,12,62,21,"fn"],[62,14,62,15],[63,0,62,25,"next"],[63,8,62,25,"next"],[63,12,62,29],[63,14,62,31,"undefined"],[64,0,62,15],[64,7,62,4],[65,0,63,4],[65,10,63,8,"last"],[65,14,63,4],[65,16,63,14,"last"],[65,20,63,18],[65,21,63,19,"next"],[65,25,63,14],[65,28,63,26,"task"],[65,32,63,14],[67,0,64,4],[67,10,64,8],[67,11,64,9,"head"],[67,15,64,4],[67,17,64,15],[68,0,65,6,"head"],[68,8,65,6,"head"],[68,12,65,10],[68,15,65,13,"task"],[68,19,65,6],[69,0,66,6,"notify"],[69,8,66,6,"notify"],[69,14,66,12],[70,0,67,5],[72,0,67,6,"last"],[72,6,67,6,"last"],[72,10,67,10],[72,13,67,13,"task"],[72,17,67,6],[73,0,68,3],[73,5,61,2],[74,0,69,1],[74,3,8,0]]},"type":"js/module"}]}