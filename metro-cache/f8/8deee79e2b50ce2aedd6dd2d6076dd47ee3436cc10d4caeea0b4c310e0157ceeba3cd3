{"dependencies":[{"name":"../../grammar-error","data":{"isAsync":false}},{"name":"../../utils/arrays","data":{"isAsync":false}},{"name":"../../utils/objects","data":{"isAsync":false}},{"name":"../visitor","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var GrammarError = _$$_REQUIRE(_dependencyMap[0], \"../../grammar-error\"),\n      arrays = _$$_REQUIRE(_dependencyMap[1], \"../../utils/arrays\"),\n      objects = _$$_REQUIRE(_dependencyMap[2], \"../../utils/objects\"),\n      visitor = _$$_REQUIRE(_dependencyMap[3], \"../visitor\");\n\n  function reportDuplicateLabels(ast) {\n    function checkExpressionWithClonedEnv(node, env) {\n      check(node.expression, objects.clone(env));\n    }\n\n    var check = visitor.build({\n      rule: function rule(node) {\n        check(node.expression, {});\n      },\n      choice: function choice(node, env) {\n        arrays.each(node.alternatives, function (alternative) {\n          check(alternative, objects.clone(env));\n        });\n      },\n      action: checkExpressionWithClonedEnv,\n      labeled: function labeled(node, env) {\n        if (env.hasOwnProperty(node.label)) {\n          throw new GrammarError(\"Label \\\"\" + node.label + \"\\\" is already defined \" + \"at line \" + env[node.label].start.line + \", \" + \"column \" + env[node.label].start.column + \".\", node.location);\n        }\n\n        check(node.expression, env);\n        env[node.label] = node.location;\n      },\n      text: checkExpressionWithClonedEnv,\n      simple_and: checkExpressionWithClonedEnv,\n      simple_not: checkExpressionWithClonedEnv,\n      optional: checkExpressionWithClonedEnv,\n      zero_or_more: checkExpressionWithClonedEnv,\n      one_or_more: checkExpressionWithClonedEnv,\n      group: checkExpressionWithClonedEnv\n    });\n    check(ast);\n  }\n\n  module.exports = reportDuplicateLabels;\n});","map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"GrammarError"],[4,18,3,16],[4,21,3,19,"require"],[4,32,3,26],[4,74,3,0],[5,0,3,0],[5,6,4,4,"arrays"],[5,12,4,10],[5,15,4,19,"require"],[5,26,4,26],[5,67,3,0],[6,0,3,0],[6,6,5,4,"objects"],[6,13,5,11],[6,16,5,19,"require"],[6,27,5,26],[6,69,3,0],[7,0,3,0],[7,6,6,4,"visitor"],[7,13,6,11],[7,16,6,19,"require"],[7,27,6,26],[7,60,3,0],[9,0,9,0],[9,11,9,9,"reportDuplicateLabels"],[9,32,9,0],[9,33,9,31,"ast"],[9,36,9,0],[9,38,9,36],[10,0,10,2],[10,13,10,11,"checkExpressionWithClonedEnv"],[10,41,10,2],[10,42,10,40,"node"],[10,46,10,2],[10,48,10,46,"env"],[10,51,10,2],[10,53,10,51],[11,0,11,4,"check"],[11,6,11,4,"check"],[11,11,11,9],[11,12,11,10,"node"],[11,16,11,14],[11,17,11,15,"expression"],[11,27,11,9],[11,29,11,27,"objects"],[11,36,11,34],[11,37,11,35,"clone"],[11,42,11,27],[11,43,11,41,"env"],[11,46,11,27],[11,47,11,9],[11,48,11,4],[12,0,12,3],[14,0,14,2],[14,8,14,6,"check"],[14,13,14,11],[14,16,14,14,"visitor"],[14,23,14,21],[14,24,14,22,"build"],[14,29,14,14],[14,30,14,28],[15,0,15,4,"rule"],[15,6,15,4,"rule"],[15,10,15,8],[15,12,15,10],[15,26,15,19,"node"],[15,30,15,10],[15,32,15,25],[16,0,16,6,"check"],[16,8,16,6,"check"],[16,13,16,11],[16,14,16,12,"node"],[16,18,16,16],[16,19,16,17,"expression"],[16,29,16,11],[16,31,16,29],[16,33,16,11],[16,34,16,6],[17,0,17,5],[17,7,14,28],[18,0,19,4,"choice"],[18,6,19,4,"choice"],[18,12,19,10],[18,14,19,12],[18,30,19,21,"node"],[18,34,19,12],[18,36,19,27,"env"],[18,39,19,12],[18,41,19,32],[19,0,20,6,"arrays"],[19,8,20,6,"arrays"],[19,14,20,12],[19,15,20,13,"each"],[19,19,20,6],[19,20,20,18,"node"],[19,24,20,22],[19,25,20,23,"alternatives"],[19,37,20,6],[19,39,20,37],[19,49,20,46,"alternative"],[19,60,20,37],[19,62,20,59],[20,0,21,8,"check"],[20,10,21,8,"check"],[20,15,21,13],[20,16,21,14,"alternative"],[20,27,21,13],[20,29,21,27,"objects"],[20,36,21,34],[20,37,21,35,"clone"],[20,42,21,27],[20,43,21,41,"env"],[20,46,21,27],[20,47,21,13],[20,48,21,8],[21,0,22,7],[21,9,20,6],[22,0,23,5],[22,7,14,28],[23,0,25,4,"action"],[23,6,25,4,"action"],[23,12,25,10],[23,14,25,12,"checkExpressionWithClonedEnv"],[23,42,14,28],[24,0,27,4,"labeled"],[24,6,27,4,"labeled"],[24,13,27,11],[24,15,27,13],[24,32,27,22,"node"],[24,36,27,13],[24,38,27,28,"env"],[24,41,27,13],[24,43,27,33],[25,0,28,6],[25,12,28,10,"env"],[25,15,28,13],[25,16,28,14,"hasOwnProperty"],[25,30,28,10],[25,31,28,29,"node"],[25,35,28,33],[25,36,28,34,"label"],[25,41,28,10],[25,42,28,6],[25,44,28,42],[26,0,29,8],[26,16,29,14],[26,20,29,18,"GrammarError"],[26,32,29,14],[26,33,30,10],[26,46,30,23,"node"],[26,50,30,27],[26,51,30,28,"label"],[26,56,30,10],[26,59,30,36],[26,83,30,10],[26,86,31,14],[26,96,30,10],[26,99,31,27,"env"],[26,102,31,30],[26,103,31,31,"node"],[26,107,31,35],[26,108,31,36,"label"],[26,113,31,30],[26,114,31,27],[26,115,31,43,"start"],[26,120,31,27],[26,121,31,49,"line"],[26,125,30,10],[26,128,31,56],[26,132,30,10],[26,135,32,14],[26,144,30,10],[26,147,32,26,"env"],[26,150,32,29],[26,151,32,30,"node"],[26,155,32,34],[26,156,32,35,"label"],[26,161,32,29],[26,162,32,26],[26,163,32,42,"start"],[26,168,32,26],[26,169,32,48,"column"],[26,175,30,10],[26,178,32,57],[26,181,29,14],[26,183,33,10,"node"],[26,187,33,14],[26,188,33,15,"location"],[26,196,29,14],[26,197,29,8],[27,0,35,7],[29,0,37,6,"check"],[29,8,37,6,"check"],[29,13,37,11],[29,14,37,12,"node"],[29,18,37,16],[29,19,37,17,"expression"],[29,29,37,11],[29,31,37,29,"env"],[29,34,37,11],[29,35,37,6],[30,0,39,6,"env"],[30,8,39,6,"env"],[30,11,39,9],[30,12,39,10,"node"],[30,16,39,14],[30,17,39,15,"label"],[30,22,39,9],[30,23,39,6],[30,26,39,24,"node"],[30,30,39,28],[30,31,39,29,"location"],[30,39,39,6],[31,0,40,5],[31,7,14,28],[32,0,42,4,"text"],[32,6,42,4,"text"],[32,10,42,8],[32,12,42,18,"checkExpressionWithClonedEnv"],[32,40,14,28],[33,0,43,4,"simple_and"],[33,6,43,4,"simple_and"],[33,16,43,14],[33,18,43,18,"checkExpressionWithClonedEnv"],[33,46,14,28],[34,0,44,4,"simple_not"],[34,6,44,4,"simple_not"],[34,16,44,14],[34,18,44,18,"checkExpressionWithClonedEnv"],[34,46,14,28],[35,0,45,4,"optional"],[35,6,45,4,"optional"],[35,14,45,12],[35,16,45,18,"checkExpressionWithClonedEnv"],[35,44,14,28],[36,0,46,4,"zero_or_more"],[36,6,46,4,"zero_or_more"],[36,18,46,16],[36,20,46,18,"checkExpressionWithClonedEnv"],[36,48,14,28],[37,0,47,4,"one_or_more"],[37,6,47,4,"one_or_more"],[37,17,47,15],[37,19,47,18,"checkExpressionWithClonedEnv"],[37,47,14,28],[38,0,48,4,"group"],[38,6,48,4,"group"],[38,11,48,9],[38,13,48,18,"checkExpressionWithClonedEnv"],[39,0,14,28],[39,5,14,14],[39,6,14,2],[40,0,51,2,"check"],[40,4,51,2,"check"],[40,9,51,7],[40,10,51,8,"ast"],[40,13,51,7],[40,14,51,2],[41,0,52,1],[43,0,54,0,"module"],[43,2,54,0,"module"],[43,8,54,6],[43,9,54,7,"exports"],[43,16,54,0],[43,19,54,17,"reportDuplicateLabels"],[43,40,54,0]]},"type":"js/module"}]}